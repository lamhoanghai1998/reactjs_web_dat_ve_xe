{"ast":null,"code":"var _jsxFileName = \"E:\\\\vexedientu\\\\Front-End\\\\dath-react\\\\src\\\\components\\\\NavUser.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Axios from \"axios\";\nimport swal from \"sweetalert\";\n\nclass NavUser extends Component {\n  constructor(...args) {\n    super(...args);\n    this.SDT = '';\n    this.idKH1 = '';\n\n    this._handleSubmit = values => {\n      // const xsrfToken = this.getCookie(\"XSRF-TOKEN\");\n      var postData = values;\n      let axiosConfig = {\n        headers: {\n          \"Content-Type\": \"application/json;charset=UTF-8\",\n          // \"X-XSRF-TOKEN\": xsrfToken,\n          \"Access-Control-Allow-Origin\": \"*\"\n        }\n      };\n      Axios.post(\"/api/login\", postData, axiosConfig).then(res => {\n        if (res.data.status === \"true\") {\n          this.props.dispatch({\n            type: \"CHANGE_LOGIN_STATUS\"\n          });\n          this.props.history.push(\"/\");\n        } else {\n          swal({\n            title: \"Lỗi Đăng Nhập\",\n            text: res.data.message,\n            icon: \"warning\"\n          });\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n      console.log(values);\n    };\n  }\n\n  buttonLogOut() {\n    this.props.dispatch({\n      type: \"CHANGE_LOGIN_STATUS\"\n    });\n  }\n\n  getDataAPI() {\n    Axios.all([Axios.get(\"/api/login\"), Axios.get(\"/api/khachhang\"), Axios.get(\"/api/ve\")]).then(resArr => {\n      // đẩy dữ liệu danh sách lịch chạy từ API get được vào reducer\n      this.props.dispatch({\n        type: \"FETCH_DSKHACHHANG\",\n        payload: resArr[0].data\n      });\n      this.props.dispatch({\n        type: \"FETCH_KHACHHANG\",\n        payload: resArr[1].data\n      });\n      this.props.dispatch({\n        type: \"FETCH_DSVE\",\n        payload: resArr[2].data\n      });\n      var emailKH = localStorage.getItem(\"email\");\n      console.log(emailKH);\n      this.props.dskhachhangData.filter((kh, index) => {\n        return kh.email === emailKH;\n      }).map((sdtKH, index) => {\n        return this.SDT = sdtKH.phone;\n      });\n      this.props.khachhangData.filter((kh1, index) => {\n        return kh1.SDT === this.SDT;\n      }).map((idKH, index) => {\n        return this.idKH1 = idKH.id;\n      });\n      localStorage.setItem(\"idKH\", this.idKH1);\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount() {\n    this.getDataAPI();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar fixed-top navbar-expand-lg navbar-white\",\n      \"color-on-scroll\": 100,\n      id: \"sectionsNav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"navbar-translate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      className: \"navbar-brand\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }, \"V\\xE9 xe Online\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"navbar-toggler\",\n      type: \"button\",\n      \"data-toggle\": \"collapse\",\n      \"aria-expanded\": \"false\",\n      \"aria-label\": \"Toggle navigation\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"navbar-toggler-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"navbar-toggler-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"navbar-toggler-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"collapse navbar-collapse\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"navbar-nav ml-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/gioi-thieu\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, \"apps\"), \" Gi\\u1EDBi thi\\u1EC7u\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/lien-he\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 19\n      }\n    }, \"view_day\"), \" Li\\xEAn h\\u1EC7\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/danh-sach-ve\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 19\n      }\n    }, \"article\"), \" Danh s\\xE1ch v\\xE9\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/trao-doi-ve\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"material-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 19\n      }\n    }, \"compare_arrows\"), \" Trao \\u0111\\u1ED5i v\\xE9\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"dropdown nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      href: \"#pablo\",\n      className: \"profile-photo dropdown-toggle nav-link\",\n      \"data-toggle\": \"dropdown\",\n      \"aria-expanded\": \"false\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile-photo-small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      // src=\"https://professionalsofthefuture.com/wp-content/uploads/2018/12/user-icon.png\"\n      src: \"./assets/img/user-icon.png\",\n      alt: \"Circle avata small\",\n      className: \"rounded-circle img-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ripple-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown-menu dropdown-menu-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"#pablo\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 19\n      }\n    }, \"Th\\xF4ng tin c\\xE1 nh\\xE2n\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"#pablo\",\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }\n    }, \"L\\u1ECBch s\\u1EED v\\xE9\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      onClick: () => this.buttonLogOut(),\n      className: \"dropdown-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 19\n      }\n    }, \"\\u0110\\u0103ng xu\\u1EA5t\")))))));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    loginStatus: state.loginReducer,\n    dskhachhangData: state.dskhachhangReducer.dskhachhangData,\n    khachhangData: state.khachhangReducer.khachhangData,\n    dsVeData: state.dsVeReducer.dsVeData\n  };\n};\n\nexport default connect(mapStateToProps)(NavUser);","map":{"version":3,"sources":["E:/vexedientu/Front-End/dath-react/src/components/NavUser.js"],"names":["React","Component","Link","connect","Axios","swal","NavUser","SDT","idKH1","_handleSubmit","values","postData","axiosConfig","headers","post","then","res","data","status","props","dispatch","type","history","push","title","text","message","icon","catch","err","console","log","buttonLogOut","getDataAPI","all","get","resArr","payload","emailKH","localStorage","getItem","dskhachhangData","filter","kh","index","email","map","sdtKH","phone","khachhangData","kh1","idKH","id","setItem","componentDidMount","render","mapStateToProps","state","ownProps","loginStatus","loginReducer","dskhachhangReducer","khachhangReducer","dsVeData","dsVeReducer"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Axios from \"axios\";\r\nimport swal from \"sweetalert\";\r\n\r\nclass NavUser extends Component {\r\n  buttonLogOut() {\r\n    this.props.dispatch({\r\n      type: \"CHANGE_LOGIN_STATUS\",\r\n    });\r\n  }\r\n  SDT =''\r\n  idKH1='';\r\n  getDataAPI() {\r\n    Axios.all([\r\n      Axios.get(\"/api/login\"),\r\n      Axios.get(\"/api/khachhang\"),\r\n      Axios.get(\"/api/ve\"),\r\n    ])\r\n      .then((resArr) => {\r\n        // đẩy dữ liệu danh sách lịch chạy từ API get được vào reducer\r\n        this.props.dispatch({\r\n          type: \"FETCH_DSKHACHHANG\",\r\n          payload: resArr[0].data,\r\n        });\r\n        this.props.dispatch({\r\n          type: \"FETCH_KHACHHANG\",\r\n          payload: resArr[1].data,\r\n        });\r\n        this.props.dispatch({\r\n          type: \"FETCH_DSVE\",\r\n          payload: resArr[2].data,\r\n        });\r\n       \r\n        var emailKH = localStorage.getItem(\"email\");\r\n        console.log(emailKH);\r\n        \r\n        this.props.dskhachhangData.filter((kh,index)=> {\r\n          return kh.email === emailKH;\r\n        }).map((sdtKH,index)=> {\r\n          return this.SDT = sdtKH.phone;\r\n        });\r\n        this.props.khachhangData.filter((kh1,index)=> {\r\n          return kh1.SDT === this.SDT;\r\n        }).map((idKH,index)=> {\r\n          return this.idKH1 = idKH.id ;\r\n        })\r\n        localStorage.setItem(\"idKH\", this.idKH1)\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getDataAPI();\r\n  }\r\n  _handleSubmit = (values) => {\r\n    // const xsrfToken = this.getCookie(\"XSRF-TOKEN\");\r\n\r\n    var postData = values;\r\n    let axiosConfig = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        // \"X-XSRF-TOKEN\": xsrfToken,\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n    };\r\n    Axios.post(\"/api/login\", postData, axiosConfig)\r\n      .then((res) => {\r\n        if (res.data.status === \"true\") {\r\n          this.props.dispatch({\r\n            type: \"CHANGE_LOGIN_STATUS\",\r\n          });\r\n          this.props.history.push(\"/\");\r\n        } else {\r\n          swal({\r\n            title: \"Lỗi Đăng Nhập\",\r\n            text: res.data.message,\r\n            icon: \"warning\",\r\n          });\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n    console.log(values);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <nav\r\n        className=\"navbar fixed-top navbar-expand-lg navbar-white\"\r\n        color-on-scroll={100}\r\n        id=\"sectionsNav\"\r\n      >\r\n        <div className=\"container\">\r\n          <div className=\"navbar-translate\">\r\n            <Link className=\"navbar-brand\" to=\"/\">\r\n              Vé xe Online\r\n            </Link>\r\n            <button\r\n              className=\"navbar-toggler\"\r\n              type=\"button\"\r\n              data-toggle=\"collapse\"\r\n              aria-expanded=\"false\"\r\n              aria-label=\"Toggle navigation\"\r\n            >\r\n              <span className=\"navbar-toggler-icon\" />\r\n              <span className=\"navbar-toggler-icon\" />\r\n              <span className=\"navbar-toggler-icon\" />\r\n            </button>\r\n          </div>\r\n          <div className=\"collapse navbar-collapse\">\r\n            <ul className=\"navbar-nav ml-auto\">\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/gioi-thieu\" className=\"nav-link\">\r\n                  <i className=\"material-icons\">apps</i> Giới thiệu\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/lien-he\" className=\"nav-link\">\r\n                  <i className=\"material-icons\">view_day</i> Liên hệ\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/danh-sach-ve\" className=\"nav-link\">\r\n                  <i className=\"material-icons\">article</i> Danh sách vé\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/trao-doi-ve\" className=\"nav-link\">\r\n                  <i className=\"material-icons\">compare_arrows</i> Trao đổi vé\r\n                </Link>\r\n              </li>\r\n              <li className=\"dropdown nav-item\">\r\n                <Link\r\n                  href=\"#pablo\"\r\n                  className=\"profile-photo dropdown-toggle nav-link\"\r\n                  data-toggle=\"dropdown\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  <div className=\"profile-photo-small\">\r\n                    <img\r\n                      // src=\"https://professionalsofthefuture.com/wp-content/uploads/2018/12/user-icon.png\"\r\n                      src=\"./assets/img/user-icon.png\"\r\n                      alt=\"Circle avata small\"\r\n                      className=\"rounded-circle img-fluid\"\r\n                    />\r\n                  </div>\r\n                </Link>\r\n                <div className=\"ripple-container\" />\r\n    \r\n                <div className=\"dropdown-menu dropdown-menu-right\">\r\n                  <Link to=\"#pablo\" className=\"dropdown-item\">\r\n                    Thông tin cá nhân\r\n                  </Link>\r\n                  <Link to=\"#pablo\" className=\"dropdown-item\">\r\n                    Lịch sử vé\r\n                  </Link>\r\n                  <Link\r\n                    to=\"#\"\r\n                    onClick={() => this.buttonLogOut()}\r\n                    className=\"dropdown-item\"\r\n                  >\r\n                    Đăng xuất\r\n                  </Link>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loginStatus: state.loginReducer,\r\n    dskhachhangData: state.dskhachhangReducer.dskhachhangData,\r\n    khachhangData: state.khachhangReducer.khachhangData,\r\n    dsVeData: state.dsVeReducer.dsVeData,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(NavUser);\r\n"]},"metadata":{},"sourceType":"module"}